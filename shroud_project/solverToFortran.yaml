library: FortranBindings
cxx_header: "FortranBindings.hpp"

declarations:
  - decl: |
        template<typename Real, typename Int>
        void initImmersedEq(
            const size_t height, 
            const size_t width, 
            const size_t depth,
            const size_t fSize +implied(size(f)), 
            const size_t nnzMaxB,
            Real* p +intent(in) +rank(1), 
            Real* f +intent(in) +rank(1),
            const double deltaX, 
            const double deltaY, 
            const double deltaZ,
            const double tolerance, 
            const size_t maxBCGIterations
        )
    options:
        fortran_generic: false
        wrap_main: false
    cxx_template:
      - instantiation: <float, int32_t>
        options: { function_suffix: _float_i32 }
      - instantiation: <float, int64_t>
        options: { function_suffix: _float_i64 }
      - instantiation: <double, int32_t>
        options: { function_suffix: _double_i32 }
      - instantiation: <double, int64_t>
        options: { function_suffix: _double_i64 }


  - decl: |
      template<typename Real, typename Int>
      void solveImmersedEq(
          Real* result +intent(out) +rank(1),
          size_t nnzB,
          Int* rowPointersB +intent(in) +rank(1),
          Int* colPointersB +intent(in) +rank(1),
          Real* valuesB +intent(in) +rank(1),
          bool multiStream = true
      )
    options:
        fortran_generic: false
        wrap_main: false
    cxx_template:
      - instantiation: <float, int32_t>
        options: { function_suffix: _float_i32 }
      - instantiation: <float, int64_t>
        options: { function_suffix: _float_i64 }
      - instantiation: <double, int32_t>
        options: { function_suffix: _double_i32 }
      - instantiation: <double, int64_t>
        options: { function_suffix: _double_i64 }